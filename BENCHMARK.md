# Бенчмарк инструкции `vmerge`

---

## Эксперимент 1

- **Тип элементов:** `e8` (до 10)
- **LMUL:** = 1
- **Повторений:** 10_000
- **Зависимые команды**
- **3 типа замера:**
  1. Каскад из команд
  2. Цикл из N повторений
  3. N/M циклов по M повторений каждый  
  > ⚠️ Если в наборе более одной команды, N учитывается с поправкой на количество команд

---

### Набор команд 1

```c
asm volatile("vmerge.vvm v3, v1, v2, v0");
asm volatile("vmerge.vvm v2, v1, v3, v0");
```

| Замер     | Результат (cycles/instr) |
|-----------|--------------------------|
| Каскад    | 3.8                      |
| Цикл      | 6.0                      |
| Подциклы  | 5.8                      |

---

### Набор команд 2

```c
asm volatile("vmerge.vvm v3, v2, v3, v0");
asm volatile("vmerge.vvm v2, v3, v2, v0");
asm volatile("vmerge.vvm v1, v4, v1, v0");
asm volatile("vmerge.vvm v1, v5, v1, v0");
```

| Замер     | Результат |
|-----------|-----------|
| Каскад    | 3.8       |
| Цикл      | 3.5       |
| Подциклы  | 3.4       |

---

### Набор команд 3

```c
asm volatile("vmerge.vvm v3, v1, v2, v0");
asm volatile("vmerge.vvm v3, v2, v1, v0");
asm volatile("vmerge.vvm v2, v1, v3, v0");
asm volatile("vmerge.vvm v2, v3, v1, v0");
```

| Замер     | Результат |
|-----------|-----------|
| Каскад    | 3.84      |
| Цикл      | 3.5       |
| Подциклы  | 3.37      |

---

### Набор команд 4

```c
asm volatile("vmerge.vvm v3, v1, v2, v0");
asm volatile("vmerge.vvm v2, v1, v3, v0");
asm volatile("vmerge.vvm v4, v5, v6, v0");
asm volatile("vmerge.vvm v6, v5, v4, v0");
```

| Замер     | Результат |
|-----------|-----------|
| Каскад    | 3.8       |
| Цикл      | 3.5       |
| Подциклы  | 3.4       |

---

## Эксперимент 2

- **Тип элементов:** `e8`
- **LMUL:** = 1
- **Повторений:** 10_000
- **Независимые команды**

---

### Набор команд 1

```c
asm volatile("vmerge.vvm v3, v1, v2, v0");
```

| Замер     | Результат |
|-----------|-----------|
| Каскад    | 3.8       |
| Цикл      | 10.1      |
| Подциклы  | 11.4      |

---

## Эксперимент 3

- **Тип элементов:** `e32` (большие числа)
- **LMUL:** = 2
- **Повторений:** 10_000
- **Независимые команды**

---

### Набор команд 1

```c
asm volatile("vmerge.vvm v3, v1, v2, v0");
```

| Замер     | Результат |
|-----------|-----------|
| Каскад    | 3.8       |
| Цикл      | 10.1      |
| Подциклы  | 11.4      |

---

## Эксперимент 4

- **Тип элементов:** `e32` (большие числа)
- **LMUL:** = 2
- **Повторений:** 10_000
- **Зависимые команды**

---

### Набор команд 1

```c
asm volatile("vmerge.vvm v3, v1, v2, v0");
asm volatile("vmerge.vvm v2, v1, v3, v0");
```

| Замер     | Результат |
|-----------|-----------|
| Каскад    | 4.08      |
| Цикл      | 6.01      |
| Подциклы  | 5.79      |

---

### Набор команд 2

```c
asm volatile("vmerge.vvm v3, v2, v3, v0");
asm volatile("vmerge.vvm v2, v3, v2, v0");
asm volatile("vmerge.vvm v1, v4, v1, v0");
asm volatile("vmerge.vvm v1, v5, v1, v0");
```

| Замер     | Результат |
|-----------|-----------|
| Каскад    | 4.08      |
| Цикл      | 4.00      |
| Подциклы  | 4.06      |

---

### Набор команд 3

```c
asm volatile("vmerge.vvm v3, v1, v2, v0");
asm volatile("vmerge.vvm v3, v2, v1, v0");
asm volatile("vmerge.vvm v2, v1, v3, v0");
asm volatile("vmerge.vvm v2, v3, v1, v0");
```

| Замер     | Результат |
|-----------|-----------|
| Каскад    | 4.08      |
| Цикл      | 4.00      |
| Подциклы  | 4.06      |

---

### Набор команд 4

```c
asm volatile("vmerge.vvm v3, v1, v2, v0");
asm volatile("vmerge.vvm v2, v1, v3, v0");
asm volatile("vmerge.vvm v4, v5, v6, v0");
asm volatile("vmerge.vvm v6, v5, v4, v0");
```

| Замер     | Результат |
|-----------|-----------|
| Каскад    | 4.08      |
| Цикл      | 4.00      |
| Подциклы  | 4.06      |

---

## Эксперимент 5

- **Тип элементов:** `e32` (большие числа)
- **LMUL:** = 2
- **Повторений:** 10_000
- **Независимые команды**

---

### Набор команд 1

```c
asm volatile("vmerge.vvm v3, v1, v2, v0");
```

| Замер     | Результат |
|-----------|-----------|
| Каскад    | 4.08      |
| Цикл      | 11.01     |
| Подциклы  | 10.57     |

---